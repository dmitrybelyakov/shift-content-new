"use strict";var app=angular.module("shiftContentApp",["ngRoute","ngAnimate","ngResource"]);app.config(["$locationProvider","$routeProvider",function(a,b){a.html5Mode(!0).hashPrefix("!");var c=b;c.otherwise({redirectTo:"/"}),c.when("/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/main.html"}),c.when("/index/",{redirectTo:"/"}),c.when("/another/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/another.html"}),c.when("/manage/:contentId/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/another.html"}),c.when("/feeds/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/manage-feeds.html"}),c.when("/types/",{controller:"ContentTypes",templateUrl:"/modules/shift-content-new/views/content-types.html",resolve:{types:["MultiRecipeLoader",function(a){return new a}]}}),c.when("/field-types/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/field-types.html"}),c.when("/filter-types/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/filter-types.html"}),c.when("/validator-types/",{controller:"MainCtrl",templateUrl:"/modules/shift-content-new/views/validator-types.html"})}]);var app=angular.module("shiftContentApp");app.controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);var app=angular.module("shiftContentApp");app.factory("NavigationService",function(){var a=[{title:"Manage content",items:[{label:"Static page",href:"manage/11/"},{label:"Attachment",href:"manage/12/"},{label:"Shop Item",href:"manage/13/"}]},{title:"Manage content",items:[{label:"Feed collections",href:"feeds/"}]},{title:"Content settings",items:[{label:"Content types",href:"types/"},{label:"Field types",href:"field-types/"},{label:"Filter types",href:"filter-types/"},{label:"Validator types",href:"validator-types/"}]}];return a});var app=angular.module("shiftContentApp");app.directive("shiftNavigation",["NavigationService",function(a){return{scope:{},restrict:"EA",templateUrl:"/modules/shift-content-new/views/directives/navigation.html",controller:["$scope","$location",function(b,c){var d=a,e=function(){var a=c.path().substring(1);for(var b in d)for(var e in d[b].items)d[b].items[e].active=a===d[b].items[e].href?!0:!1};e(),b.$on("$routeChangeStart",function(){e()}),b.navigation=d}]}}]);var app=angular.module("shiftContentApp");app.directive("shiftBreadcrumbs",function(){return{scope:{},restrict:"EA",templateUrl:"/modules/shift-content-new/views/directives/breadcrumbs.html"}}),angular.module("shiftContentApp").service("ContentTypesService",function(){var a={};return a.getTypes=function(){var a=[{id:123,title:"me is type one"},{id:456,title:"me is type two"},{id:789,title:"me is type three"}];return a},a});var app=angular.module("shiftContentApp");app.controller("ContentTypes",["$scope","types",function(a,b){a.types=b}]);var app=angular.module("shiftContentApp");app.factory("Recipe",["$resource",function(a){var b="/api/content/:id/",c={id:"@id"},d={get:{method:"GET",isArray:!1}};return a(b,c,d)}]),app.factory("MultiRecipeLoader",["Recipe","$q",function(a,b){return function(){var c=b.defer();return a.query(function(a){c.resolve(a)},function(){c.reject("Unable to load from backend")}),c.promise}}]),app.factory("RecipeLoader",["Recipe","$route","$q",function(a,b,c){return function(){var d=c.defer(),e=b.current.params.id;return a.get({id:e},function(a){d.resolve(a)},function(){d.reject("Unable to fetch recipe: "+e)}),d.promise}}]);var app=angular.module("shiftContentApp");app.directive("viewPreloader",["$rootScope","$timeout",function(a,b){return{templateUrl:"/modules/shift-content-new/views/directives/view-preloader.html",restrict:"EA",link:function(c,d){var e=angular.element;d=d.find(".view-preloader"),d.hide();var f=20,g=e("td.page"),h=!1,i=!1;d.offset({top:f,left:g.offset().left}),d.width(g.width()-2*f),d.height(g.height()-2*f),a.$on("$routeChangeStart",function(){h=!0,b(function(){h&&(d.show(),i=!0)},300)}),a.$on("$routeChangeSuccess",function(){i?(d.addClass("hide"),b(function(){h=!1,i=!1,d.removeClass("hide"),d.hide()},200)):(h=!1,i=!1,d.hide())})}}}]);